{"remainingRequest":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\PhoneCode\\PhoneCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\PhoneCode\\PhoneCode.vue","mtime":1562311987710},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport md5 from 'md5'\nimport Component from '../../Plugins/Component'\nimport PhoneService from '../../ApiService/PhoneLoginService'\nexport default {\n  data () {\n    return {\n      code: '',\n      codeagain: false\n    }\n  },\n  methods: {\n    setcodeagain () {\n      this.codeagain = true\n    },\n    validatecode () {\n      if (this.code.trim() != '') {\n        if (localStorage.getItem('psw') != null && localStorage.getItem('psw') != undefined && localStorage.getItem('psw').trim() != '' &&\n          localStorage.getItem('registerid') != null && localStorage.getItem('registerid') != undefined && localStorage.getItem('registerid').trim() != ''\n        ) {\n          if (md5(this.code) == localStorage.getItem('psw')) {\n            this.setactivate()\n          } else {\n            this.setactivate()\n            // Component.showalert(\"Onay Kodu Geçersiz\", \"error\", \"Tamam\")\n          }\n        } else {\n          this.setactivate()\n        }\n      } else {\n        Component.showalert('Onay Kodu Geçersiz', 'error', 'Tamam')\n      }\n    },\n    setactivate () {\n      if (localStorage.getItem('us') != null && localStorage.getItem('us') != undefined && localStorage.getItem('us').trim() != ''\n      ){\n        PhoneService.verifycode({\n          data:{\n            kullaniciId: JSON.parse(Component.b64DecodeUnicode(localStorage.getItem(\"us\"))).kullaniciId,\n            dogrulamaKodu:this.code,\n            methodName: \"smsDogrula\"\n          }\n        }).then((res)=>{\n          if(res.status==200){\n\n            localStorage.setItem('token', Component.b64EncodeUnicode(JSON.stringify({ token: res.data[0].userToken })))\n            this.$store.commit('setToken',  res.data[0].userToken)\n           this.$store.commit('setUs', res.data[0])\n        this.$router.push('/')\n          }else{\n            Component.showalert(res.msg,\"error\",\"Tamam\")\n          }\n        })\n\n      }else{\n        Component.showalert('Beklenmeyen Bir Hata Gerçekleşti Lütfen Tekrar Giriş Yapın', 'error', 'Tamam')\n      }\n    },\n    sendcodeagain () {\n      if (localStorage.getItem('us') != null && localStorage.getItem('us') != undefined && localStorage.getItem('us').trim() != ''\n      )\n      {\n        PhoneService.sendphonecode({\n          data:{\n            kullaniciId: JSON.parse(Component.b64DecodeUnicode(localStorage.getItem(\"us\"))).kullaniciId,\n            methodName: \"smsGonder\"\n          }\n        }).then((res)=>{\n\n          this.codeagain=false\n          if(res.status==200){\n\n            //bakılacak\n\n          }else{\n            Component.showalert('Sms Gönderilirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin', 'error', 'Tamam')\n          }\n\n        })\n      }else{\n        Component.showalert('Beklenmeyen Bir Hata Gerçekleşti Lütfen Tekrar Giriş Yapın', 'error', 'Tamam')\n      }\n\n\n      /*\n      if (localStorage.getItem('registerid') != null && localStorage.getItem('registerid') != undefined && localStorage.getItem('registerid').trim() != '') {\n        RegisterService.sendcode({\n          data: {\n            kullaniciId: Component.b64DecodeUnicode(localStorage.getItem('registerid')),\n            methodName: 'smsGonder'\n          }\n        }).then((res) => {\n          this.codeagain = false\n          if (res.status == 200) {\n            Component.showalert(res.msg, 'success', 'Tamam')\n          } else {\n            Component.showalert('Sms Gönderilirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin', 'error', 'Tamam')\n          }\n        })\n      } else {\n        Component.showalert('Onay Kodu Geçersiz', 'error', 'Tamam')\n      }*/\n    }\n  }\n}\n",{"version":3,"sources":["PhoneCode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhoneCode.vue","sourceRoot":"src/components/PhoneCode","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"page-inner\">\r\n      <div  class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <div class=\"form-material m-t-200\">\r\n                <div class=\"form-group \">\r\n                  <label >Telefonunuza Gelen Onay Kodunu Giriniz </label>\r\n                  <input type=\"password\"  onkeypress='return event.charCode >= 48 && event.charCode <= 57'   v-model=\"code\"  class=\"form-control \"> </div>\r\n                <label style=\"text-decoration: underline;cursor: pointer\" @mouseup=\"setcodeagain\"> Onay Kodu Alamadınız mı ? </label>\r\n                <br><br>\r\n\r\n                <button class=\"btn btn-primary\" style=\"float: right\" @mouseup=\"validatecode\">Doğrula</button>\r\n                <button class=\"btn btn-primary\" v-if=\"codeagain\" style=\" float: left\" @mouseup=\"sendcodeagain\">Onay Kodunu Tekrar Gönder</button>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import md5 from 'md5'\r\n  import Component from '../../Plugins/Component'\r\n  import PhoneService from '../../ApiService/PhoneLoginService'\r\n  export default {\r\n    data () {\r\n      return {\r\n        code: '',\r\n        codeagain: false\r\n      }\r\n    },\r\n    methods: {\r\n      setcodeagain () {\r\n        this.codeagain = true\r\n      },\r\n      validatecode () {\r\n        if (this.code.trim() != '') {\r\n          if (localStorage.getItem('psw') != null && localStorage.getItem('psw') != undefined && localStorage.getItem('psw').trim() != '' &&\r\n            localStorage.getItem('registerid') != null && localStorage.getItem('registerid') != undefined && localStorage.getItem('registerid').trim() != ''\r\n          ) {\r\n            if (md5(this.code) == localStorage.getItem('psw')) {\r\n              this.setactivate()\r\n            } else {\r\n              this.setactivate()\r\n              // Component.showalert(\"Onay Kodu Geçersiz\", \"error\", \"Tamam\")\r\n            }\r\n          } else {\r\n            this.setactivate()\r\n          }\r\n        } else {\r\n          Component.showalert('Onay Kodu Geçersiz', 'error', 'Tamam')\r\n        }\r\n      },\r\n      setactivate () {\r\n        if (localStorage.getItem('us') != null && localStorage.getItem('us') != undefined && localStorage.getItem('us').trim() != ''\r\n        ){\r\n          PhoneService.verifycode({\r\n            data:{\r\n              kullaniciId: JSON.parse(Component.b64DecodeUnicode(localStorage.getItem(\"us\"))).kullaniciId,\r\n              dogrulamaKodu:this.code,\r\n              methodName: \"smsDogrula\"\r\n            }\r\n          }).then((res)=>{\r\n            if(res.status==200){\r\n\r\n              localStorage.setItem('token', Component.b64EncodeUnicode(JSON.stringify({ token: res.data[0].userToken })))\r\n              this.$store.commit('setToken',  res.data[0].userToken)\r\n             this.$store.commit('setUs', res.data[0])\r\n          this.$router.push('/')\r\n            }else{\r\n              Component.showalert(res.msg,\"error\",\"Tamam\")\r\n            }\r\n          })\r\n\r\n        }else{\r\n          Component.showalert('Beklenmeyen Bir Hata Gerçekleşti Lütfen Tekrar Giriş Yapın', 'error', 'Tamam')\r\n        }\r\n      },\r\n      sendcodeagain () {\r\n        if (localStorage.getItem('us') != null && localStorage.getItem('us') != undefined && localStorage.getItem('us').trim() != ''\r\n        )\r\n        {\r\n          PhoneService.sendphonecode({\r\n            data:{\r\n              kullaniciId: JSON.parse(Component.b64DecodeUnicode(localStorage.getItem(\"us\"))).kullaniciId,\r\n              methodName: \"smsGonder\"\r\n            }\r\n          }).then((res)=>{\r\n\r\n            this.codeagain=false\r\n            if(res.status==200){\r\n\r\n              //bakılacak\r\n\r\n            }else{\r\n              Component.showalert('Sms Gönderilirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin', 'error', 'Tamam')\r\n            }\r\n\r\n          })\r\n        }else{\r\n          Component.showalert('Beklenmeyen Bir Hata Gerçekleşti Lütfen Tekrar Giriş Yapın', 'error', 'Tamam')\r\n        }\r\n\r\n\r\n        /*\r\n        if (localStorage.getItem('registerid') != null && localStorage.getItem('registerid') != undefined && localStorage.getItem('registerid').trim() != '') {\r\n          RegisterService.sendcode({\r\n            data: {\r\n              kullaniciId: Component.b64DecodeUnicode(localStorage.getItem('registerid')),\r\n              methodName: 'smsGonder'\r\n            }\r\n          }).then((res) => {\r\n            this.codeagain = false\r\n            if (res.status == 200) {\r\n              Component.showalert(res.msg, 'success', 'Tamam')\r\n            } else {\r\n              Component.showalert('Sms Gönderilirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin', 'error', 'Tamam')\r\n            }\r\n          })\r\n        } else {\r\n          Component.showalert('Onay Kodu Geçersiz', 'error', 'Tamam')\r\n        }*/\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}