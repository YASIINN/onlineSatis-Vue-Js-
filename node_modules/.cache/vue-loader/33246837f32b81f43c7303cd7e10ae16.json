{"remainingRequest":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\Sector\\SectorList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\Sector\\SectorList.vue","mtime":1562475277141},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SectorService from '../../ApiService/SectorService'\nimport Component from '../../Plugins/Component'\nimport swal from 'sweetalert'\nexport default {\n  data () {\n    return {\n      sectorlist:[],\n      oldsectorlist:[],\n      editedsector:\"\",\n      editedmode:false\n    }\n  },\n  methods:{\n    cancelsector(item){\n      item.disabled=!item.disabled\n      for (let j = 0; j <this.sectorlist.length ; j++) {\n       this.sectorlist[j].sektor=this.oldsectorlist[j].sektor\n      }\n    },\n    savesector(item){\n      var ischanged=false;\n      if(item.disabled==true){\n        item.disabled=false\n      }else{\n        for (let j = 0; j <this.sectorlist.length ; j++) {\n          debugger\n          if(this.sectorlist[j].sektor.trim()!=this.oldsectorlist[j].sektor.trim()){\n            ischanged=true\n            break;\n          }else{\n            ischanged=false\n          }\n        }\n        if(ischanged){\n          debugger\n          if(item.sektor.trim()!=\"\"){\n            SectorService.editsector(\n              {\n                data:{\n                  kullaniciId: this.$store.getters.getuser.kullaniciId,\n                  userToken: this.$store.getters.getuser.userToken,\n                  sektorId:item.sektorId,\n                  sektor:item.sektor,\n                  methodName: \"sektorDuzenle\"\n                }\n              }\n            ).then((res)=>{\n              if(res.status==200){\n                item.disabled=!item.disabled\n                item.sektor=res.data.sektor.toUpperCase()\n                Component.showalert(\"Sektör Başarıyla Güncellendi\",\"success\",\"Tamam\")\n              }else{\n                Component.showalert(\"Sektör  Güncellenirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin\",\"error\",\"Tamam\")\n              }\n            })\n          }else{\n            Component.showalert(\"Boş Sektör Adı Girilemez\",\"error\",\"Tamam\")\n          }\n        }else{\n          Component.showalert(\"Sektörde Herhangi Bir Değişiklik Yapılmadı Lütfen Değişik Yapıp Tekrar Deneyin\",\"warning\",\"Tamam\")\n        }\n      }\n\n\n\n\n\n    },\n    removesector(item){\n      swal({\n        title: item.sektor + ' ' + 'Adlı Sektörü Silmek İstediğinize Emin Misiniz ?',\n        icon: 'warning',\n        buttons: ['Hayır', 'Evet'],\n        dangerMode: true\n      })\n        .then((willDelete) => {\n          if (willDelete) {\n           SectorService.deletesector(\n             {\n               data:{\n                 kullaniciId: this.$store.getters.getuser.kullaniciId,\n                 userToken: this.$store.getters.getuser.userToken,\n                 methodName: \"sektorKaldir\",\n                 sektorId:item.sektorId,\n               }\n             }\n           ).then((res)=>{\n             if(res.status==200){\n              Component.showalert(\"Sektör Başarıyla Kaldırıldı\",\"success\",\"Tamam\")\n                  this.sectorlist=this.sectorlist.filter((x)=>{\n                    return x.sektorId!=item.sektorId\n                  })\n             }else{\n               Component.showalert(\"Sektör Silinirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\n             }\n           })\n          }\n        })\n    },\n    editsector(item,i){\n    var ischanged=false;\n      if(item.disabled==true){\n        item.disabled=false\n      }else{\n        for (let j = 0; j <this.sectorlist.length ; j++) {\n          if(this.sectorlist[j].sektor.trim()!=this.oldsectorlist[j].sektor.trim()){\n            ischanged=true\n            break;\n          }else{\n            ischanged=false\n          }\n        }\n        if(ischanged){\n          Component.showalert(\"Lütfen Sektörde Yaptığınız Değişiklikleri Kaydedin\",\"warning\",\"Tamam\")\n        }else{\n          item.disabled=true\n        }\n      }\n    },\n    getallsector(){\n      debugger\n      SectorService.sectorlist({\n        data:{\n          kullaniciId: this.$store.getters.getuser.kullaniciId,\n          userToken: this.$store.getters.getuser.userToken,\n          methodName: \"sektorList\"\n        }\n      }).then((res)=>{\n        if(res && res.data && res.data.length){\n          debugger\n          res.data.forEach((x)=>{\n            x.disabled=true\n            x.sektor=x.sektor.toUpperCase()\n          })\n          this.oldsectorlist=JSON.parse(JSON.stringify( res.data))\n          this.sectorlist=res.data\n        }else{\n          this.\n          Component.showalert(\"İşlem Sırasında Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\n        }\n      })\n    }\n  },\n\n  created () {\n\n    this.$store.commit('setmainpage', 'AnaSayfa')\n    this.$store.commit('setsubpage', 'Mevcut Sektörler')\n    this.$store.commit('setbreadcrumbtitle', 'Mevcut Sektörler')\n    this.getallsector();\n  },\n}\n",{"version":3,"sources":["SectorList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"SectorList.vue","sourceRoot":"src/components/Sector","sourcesContent":["<template>\r\n  <div class=\"page-inner\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <div class=\"card-title\">Sektör Listesi</div>\r\n          </div>\r\n          <div class=\"card-body table-responsive\">\r\n            <table class=\"table table-hover\">\r\n              <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Sektör</th>\r\n                <th>İşlemler</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody><br>\r\n              <tr v-for=\"(item,i) in sectorlist\" :key=\"i\">\r\n                <td>{{item.sektorId}}</td>\r\n                <td><input class=\"form-control\" :disabled=\"item.disabled\" type=\"text\" v-model=\"item.sektor\">   </td>\r\n                <td>\r\n                  <div class=\"button-group\">\r\n          <button class=\"btn  btn-warning\"  v-if=\"item.disabled\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Düzenle\" @mouseup=\"editsector(item)\">  <i class=\"fas fa-edit\"></i>  </button>\r\n                  <button class=\"btn btn-danger\"  v-if=\"item.disabled\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Sil\" @mouseup=\"removesector(item)\"> <i class=\"fas fa-trash-alt\"></i>  </button>\r\n\r\n\r\n                  <button class=\"btn btn-success\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Kaydet\" v-if=\"!item.disabled\" @mouseup=\"savesector(item)\"> <i class=\"fa fa-save\"></i> </button>\r\n                  <button class=\"btn btn-danger\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"İptal Et\" v-if=\"!item.disabled\" @mouseup=\"cancelsector(item)\"> <i class=\"fas fa-times\"></i> </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import SectorService from '../../ApiService/SectorService'\r\n  import Component from '../../Plugins/Component'\r\n  import swal from 'sweetalert'\r\n  export default {\r\n    data () {\r\n      return {\r\n        sectorlist:[],\r\n        oldsectorlist:[],\r\n        editedsector:\"\",\r\n        editedmode:false\r\n      }\r\n    },\r\n    methods:{\r\n      cancelsector(item){\r\n        item.disabled=!item.disabled\r\n        for (let j = 0; j <this.sectorlist.length ; j++) {\r\n         this.sectorlist[j].sektor=this.oldsectorlist[j].sektor\r\n        }\r\n      },\r\n      savesector(item){\r\n        var ischanged=false;\r\n        if(item.disabled==true){\r\n          item.disabled=false\r\n        }else{\r\n          for (let j = 0; j <this.sectorlist.length ; j++) {\r\n            debugger\r\n            if(this.sectorlist[j].sektor.trim()!=this.oldsectorlist[j].sektor.trim()){\r\n              ischanged=true\r\n              break;\r\n            }else{\r\n              ischanged=false\r\n            }\r\n          }\r\n          if(ischanged){\r\n            debugger\r\n            if(item.sektor.trim()!=\"\"){\r\n              SectorService.editsector(\r\n                {\r\n                  data:{\r\n                    kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n                    userToken: this.$store.getters.getuser.userToken,\r\n                    sektorId:item.sektorId,\r\n                    sektor:item.sektor,\r\n                    methodName: \"sektorDuzenle\"\r\n                  }\r\n                }\r\n              ).then((res)=>{\r\n                if(res.status==200){\r\n                  item.disabled=!item.disabled\r\n                  item.sektor=res.data.sektor.toUpperCase()\r\n                  Component.showalert(\"Sektör Başarıyla Güncellendi\",\"success\",\"Tamam\")\r\n                }else{\r\n                  Component.showalert(\"Sektör  Güncellenirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin\",\"error\",\"Tamam\")\r\n                }\r\n              })\r\n            }else{\r\n              Component.showalert(\"Boş Sektör Adı Girilemez\",\"error\",\"Tamam\")\r\n            }\r\n          }else{\r\n            Component.showalert(\"Sektörde Herhangi Bir Değişiklik Yapılmadı Lütfen Değişik Yapıp Tekrar Deneyin\",\"warning\",\"Tamam\")\r\n          }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n      },\r\n      removesector(item){\r\n        swal({\r\n          title: item.sektor + ' ' + 'Adlı Sektörü Silmek İstediğinize Emin Misiniz ?',\r\n          icon: 'warning',\r\n          buttons: ['Hayır', 'Evet'],\r\n          dangerMode: true\r\n        })\r\n          .then((willDelete) => {\r\n            if (willDelete) {\r\n             SectorService.deletesector(\r\n               {\r\n                 data:{\r\n                   kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n                   userToken: this.$store.getters.getuser.userToken,\r\n                   methodName: \"sektorKaldir\",\r\n                   sektorId:item.sektorId,\r\n                 }\r\n               }\r\n             ).then((res)=>{\r\n               if(res.status==200){\r\n                Component.showalert(\"Sektör Başarıyla Kaldırıldı\",\"success\",\"Tamam\")\r\n                    this.sectorlist=this.sectorlist.filter((x)=>{\r\n                      return x.sektorId!=item.sektorId\r\n                    })\r\n               }else{\r\n                 Component.showalert(\"Sektör Silinirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\r\n               }\r\n             })\r\n            }\r\n          })\r\n      },\r\n      editsector(item,i){\r\n      var ischanged=false;\r\n        if(item.disabled==true){\r\n          item.disabled=false\r\n        }else{\r\n          for (let j = 0; j <this.sectorlist.length ; j++) {\r\n            if(this.sectorlist[j].sektor.trim()!=this.oldsectorlist[j].sektor.trim()){\r\n              ischanged=true\r\n              break;\r\n            }else{\r\n              ischanged=false\r\n            }\r\n          }\r\n          if(ischanged){\r\n            Component.showalert(\"Lütfen Sektörde Yaptığınız Değişiklikleri Kaydedin\",\"warning\",\"Tamam\")\r\n          }else{\r\n            item.disabled=true\r\n          }\r\n        }\r\n      },\r\n      getallsector(){\r\n        debugger\r\n        SectorService.sectorlist({\r\n          data:{\r\n            kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n            userToken: this.$store.getters.getuser.userToken,\r\n            methodName: \"sektorList\"\r\n          }\r\n        }).then((res)=>{\r\n          if(res && res.data && res.data.length){\r\n            debugger\r\n            res.data.forEach((x)=>{\r\n              x.disabled=true\r\n              x.sektor=x.sektor.toUpperCase()\r\n            })\r\n            this.oldsectorlist=JSON.parse(JSON.stringify( res.data))\r\n            this.sectorlist=res.data\r\n          }else{\r\n            this.\r\n            Component.showalert(\"İşlem Sırasında Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\r\n          }\r\n        })\r\n      }\r\n    },\r\n\r\n    created () {\r\n\r\n      this.$store.commit('setmainpage', 'AnaSayfa')\r\n      this.$store.commit('setsubpage', 'Mevcut Sektörler')\r\n      this.$store.commit('setbreadcrumbtitle', 'Mevcut Sektörler')\r\n      this.getallsector();\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}