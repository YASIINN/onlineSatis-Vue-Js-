{"remainingRequest":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\PayTerm\\PayTermList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\PayTerm\\PayTermList.vue","mtime":1562676973000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PayTermService from '../../ApiService/PayTermService'\nimport Component from '../../Plugins/Component'\nimport swal from 'sweetalert'\nexport default {\n  data () {\n    return {\n      paytermlist:[],\n      oldpaytermlist:[],\n      editedpayterm:\"\",\n    }\n  },\n  methods:{\n    cancelpayterm(item){\n      item.disabled=!item.disabled\n      for (let j = 0; j <this.paytermlist.length ; j++) {\n        this.paytermlist[j].detay=this.oldpaytermlist[j].detay\n      }\n    },\n    savepayterm(item){\n      var ischanged=false;\n      if(item.disabled==true){\n        item.disabled=false\n      }else{\n        for (let j = 0; j <this.paytermlist.length ; j++) {\n          debugger\n          if(this.paytermlist[j].detay.trim()!=this.oldpaytermlist[j].detay.trim()){\n            ischanged=true\n            break;\n          }else{\n            ischanged=false\n          }\n        }\n        if(ischanged){\n          debugger\n          if(item.detay.trim()!=\"\"){\n            PayTermService.addpayterm(\n              {\n                data:{\n                  kullaniciId: this.$store.getters.getuser.kullaniciId,\n                  userToken: this.$store.getters.getuser.userToken,\n                  donemId:item.odemeDonemId,\n                  odemeDetay:item.detay,\n                  methodName: \"donemDuzenle\"\n                }\n              }\n            ).then((res)=>{\n              if(res.status==200){\n                item.disabled=!item.disabled\n                item.detay=res.data.detay.toUpperCase()\n                Component.showalert(\"Ödeme Dönemi Başarıyla Güncellendi\",\"success\",\"Tamam\")\n              }else{\n                Component.showalert(\"Ödeme Dönemi  Güncellenirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin\",\"error\",\"Tamam\")\n              }\n            })\n          }else{\n            Component.showalert(\"Boş Ödeme Dönemi Girilemez\",\"error\",\"Tamam\")\n          }\n        }else{\n          Component.showalert(\"Ödeme Döneminde Herhangi Bir Değişiklik Yapılmadı Lütfen Değişik Yapıp Tekrar Deneyin\",\"warning\",\"Tamam\")\n        }\n      }\n    },\n    removepayterm(item){\n      swal({\n        title: item.detay + ' ' + 'Adlı Ödeme Dönemini Silmek İstediğinize Emin Misiniz ?',\n        icon: 'warning',\n        buttons: ['Hayır', 'Evet'],\n        dangerMode: true\n      })\n        .then((willDelete) => {\n          if (willDelete) {\n            PayTermService.deletepayterm(\n              {\n                data:{\n\n                kullaniciId: this.$store.getters.getuser.kullaniciId,\n                userToken: this.$store.getters.getuser.userToken,\n                methodName: \"donemKaldir\",\n                donemId:item.odemeDonemId,\n                }\n              }\n            ).then((res)=>{\n              if(res.status==200){\n                Component.showalert(\"Ödeme Dönemi Başarıyla Kaldırıldı\",\"success\",\"Tamam\")\n                this.paytermlist=this.paytermlist.filter((x)=>{\n                  return x.odemeDonemId!=item.odemeDonemId\n                })\n              }else{\n                Component.showalert(\"Sektör Silinirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\n              }\n            })\n          }\n        })\n    },\n    editpayterm(item,i){\n      var ischanged=false;\n      if(item.disabled==true){\n        item.disabled=false\n      }else{\n        for (let j = 0; j <this.paytermlist.length ; j++) {\n          if(this.paytermlist[j].detay.trim()!=this.oldpaytermlist[j].detay.trim()){\n            ischanged=true\n            break;\n          }else{\n            ischanged=false\n          }\n        }\n        if(ischanged){\n          Component.showalert(\"Lütfen Ödeme Döneminde  Yaptığınız Değişiklikleri Kaydedin\",\"warning\",\"Tamam\")\n        }else{\n          item.disabled=true\n        }\n      }\n    },\n    getallpayterm(){\n      PayTermService.getpayterm({\n        data:{\n          kullaniciId: this.$store.getters.getuser.kullaniciId,\n          userToken: this.$store.getters.getuser.userToken,\n          methodName: \"donemList\"\n        }\n      }).then((res)=>{\n        if(res && res.data && res.data.length){\n          res.data.forEach((x)=>{\n            x.disabled=true\n            x.detay=x.detay.toUpperCase()\n          })\n          this.oldpaytermlist=JSON.parse(JSON.stringify( res.data))\n          this.paytermlist=res.data\n        }else{\n          this.\n          Component.showalert(\"İşlem Sırasında Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\n        }\n      })\n    }\n  },\n  created () {\n    this.$store.commit('setmainpage', 'AnaSayfa')\n    this.$store.commit('setsubpage', 'Mevcut Ödeme Dönemleri')\n    this.$store.commit('setbreadcrumbtitle', 'Mevcut Ödeme Dönemleri')\n    this.getallpayterm();\n  },\n}\n",{"version":3,"sources":["PayTermList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PayTermList.vue","sourceRoot":"src/components/PayTerm","sourcesContent":["<template>\r\n  <div class=\"page-inner\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <div class=\"card-title\">Ödeme Dönemi Listesi</div>\r\n          </div>\r\n          <div class=\"card-body table-responsive\">\r\n            <table class=\"table table-hover\">\r\n              <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Ödeme Dönemi Adı</th>\r\n                <th>İşlemler</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody><br>\r\n              <tr v-for=\"(item,i) in paytermlist\" :key=\"i\">\r\n                <td>{{item.odemeDonemId}}</td>\r\n                <td><input class=\"form-control\" :disabled=\"item.disabled\" type=\"text\" v-model=\"item.detay\">   </td>\r\n                <td>\r\n                  <div class=\"button-group\">\r\n                    <button class=\"btn  btn-warning\"  v-if=\"item.disabled\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Düzenle\" @mouseup=\"editpayterm(item)\">  <i class=\"fas fa-edit\"></i>  </button>\r\n                    <button class=\"btn btn-danger\"  v-if=\"item.disabled\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Sil\" @mouseup=\"removepayterm(item)\"> <i class=\"fas fa-trash-alt\"></i>  </button>\r\n                    <button class=\"btn btn-success\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Kaydet\" v-if=\"!item.disabled\" @mouseup=\"savepayterm(item)\"> <i class=\"fa fa-save\"></i> </button>\r\n                    <button class=\"btn btn-danger\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"İptal Et\" v-if=\"!item.disabled\" @mouseup=\"cancelpayterm(item)\"> <i class=\"fas fa-times\"></i> </button>\r\n                  </div>\r\n\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import PayTermService from '../../ApiService/PayTermService'\r\n  import Component from '../../Plugins/Component'\r\n  import swal from 'sweetalert'\r\n  export default {\r\n    data () {\r\n      return {\r\n        paytermlist:[],\r\n        oldpaytermlist:[],\r\n        editedpayterm:\"\",\r\n      }\r\n    },\r\n    methods:{\r\n      cancelpayterm(item){\r\n        item.disabled=!item.disabled\r\n        for (let j = 0; j <this.paytermlist.length ; j++) {\r\n          this.paytermlist[j].detay=this.oldpaytermlist[j].detay\r\n        }\r\n      },\r\n      savepayterm(item){\r\n        var ischanged=false;\r\n        if(item.disabled==true){\r\n          item.disabled=false\r\n        }else{\r\n          for (let j = 0; j <this.paytermlist.length ; j++) {\r\n            debugger\r\n            if(this.paytermlist[j].detay.trim()!=this.oldpaytermlist[j].detay.trim()){\r\n              ischanged=true\r\n              break;\r\n            }else{\r\n              ischanged=false\r\n            }\r\n          }\r\n          if(ischanged){\r\n            debugger\r\n            if(item.detay.trim()!=\"\"){\r\n              PayTermService.addpayterm(\r\n                {\r\n                  data:{\r\n                    kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n                    userToken: this.$store.getters.getuser.userToken,\r\n                    donemId:item.odemeDonemId,\r\n                    odemeDetay:item.detay,\r\n                    methodName: \"donemDuzenle\"\r\n                  }\r\n                }\r\n              ).then((res)=>{\r\n                if(res.status==200){\r\n                  item.disabled=!item.disabled\r\n                  item.detay=res.data.detay.toUpperCase()\r\n                  Component.showalert(\"Ödeme Dönemi Başarıyla Güncellendi\",\"success\",\"Tamam\")\r\n                }else{\r\n                  Component.showalert(\"Ödeme Dönemi  Güncellenirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyin\",\"error\",\"Tamam\")\r\n                }\r\n              })\r\n            }else{\r\n              Component.showalert(\"Boş Ödeme Dönemi Girilemez\",\"error\",\"Tamam\")\r\n            }\r\n          }else{\r\n            Component.showalert(\"Ödeme Döneminde Herhangi Bir Değişiklik Yapılmadı Lütfen Değişik Yapıp Tekrar Deneyin\",\"warning\",\"Tamam\")\r\n          }\r\n        }\r\n      },\r\n      removepayterm(item){\r\n        swal({\r\n          title: item.detay + ' ' + 'Adlı Ödeme Dönemini Silmek İstediğinize Emin Misiniz ?',\r\n          icon: 'warning',\r\n          buttons: ['Hayır', 'Evet'],\r\n          dangerMode: true\r\n        })\r\n          .then((willDelete) => {\r\n            if (willDelete) {\r\n              PayTermService.deletepayterm(\r\n                {\r\n                  data:{\r\n\r\n                  kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n                  userToken: this.$store.getters.getuser.userToken,\r\n                  methodName: \"donemKaldir\",\r\n                  donemId:item.odemeDonemId,\r\n                  }\r\n                }\r\n              ).then((res)=>{\r\n                if(res.status==200){\r\n                  Component.showalert(\"Ödeme Dönemi Başarıyla Kaldırıldı\",\"success\",\"Tamam\")\r\n                  this.paytermlist=this.paytermlist.filter((x)=>{\r\n                    return x.odemeDonemId!=item.odemeDonemId\r\n                  })\r\n                }else{\r\n                  Component.showalert(\"Sektör Silinirken Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\r\n                }\r\n              })\r\n            }\r\n          })\r\n      },\r\n      editpayterm(item,i){\r\n        var ischanged=false;\r\n        if(item.disabled==true){\r\n          item.disabled=false\r\n        }else{\r\n          for (let j = 0; j <this.paytermlist.length ; j++) {\r\n            if(this.paytermlist[j].detay.trim()!=this.oldpaytermlist[j].detay.trim()){\r\n              ischanged=true\r\n              break;\r\n            }else{\r\n              ischanged=false\r\n            }\r\n          }\r\n          if(ischanged){\r\n            Component.showalert(\"Lütfen Ödeme Döneminde  Yaptığınız Değişiklikleri Kaydedin\",\"warning\",\"Tamam\")\r\n          }else{\r\n            item.disabled=true\r\n          }\r\n        }\r\n      },\r\n      getallpayterm(){\r\n        PayTermService.getpayterm({\r\n          data:{\r\n            kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n            userToken: this.$store.getters.getuser.userToken,\r\n            methodName: \"donemList\"\r\n          }\r\n        }).then((res)=>{\r\n          if(res && res.data && res.data.length){\r\n            res.data.forEach((x)=>{\r\n              x.disabled=true\r\n              x.detay=x.detay.toUpperCase()\r\n            })\r\n            this.oldpaytermlist=JSON.parse(JSON.stringify( res.data))\r\n            this.paytermlist=res.data\r\n          }else{\r\n            this.\r\n            Component.showalert(\"İşlem Sırasında Hata Gerçekleşti Lütfen Daha Sonra Tekrar Deneyiniz\",\"error\",\"Tamam\")\r\n          }\r\n        })\r\n      }\r\n    },\r\n    created () {\r\n      this.$store.commit('setmainpage', 'AnaSayfa')\r\n      this.$store.commit('setsubpage', 'Mevcut Ödeme Dönemleri')\r\n      this.$store.commit('setbreadcrumbtitle', 'Mevcut Ödeme Dönemleri')\r\n      this.getallpayterm();\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}