{"remainingRequest":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\Products\\NewProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\src\\components\\Products\\NewProduct.vue","mtime":1562752274931},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yasin\\Desktop\\onlinesatis-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  import Component from '../../Plugins/Component'\n  import dropify from '../../../public/assets/css/dropify.css'\n  import Multiselect from 'vue-multiselect'\n  import PayTermService from '../../ApiService/PayTermService'\n  import ProductService from '../../ApiService/ProductService'\n  import SectorService from \"../../ApiService/SectorService\";\n  import Validation from '../../Plugins/Validation'\n  import { VueEditor } from \"vue2-editor\";\n  import swal from \"sweetalert\";\n\n  export default {\n    data(){\n      return{\n        addetproperties:[],\n        successtyle:{\n          border:\"2px solid #28a745\",\n          borderRadius: \"5px\"\n        },\n        errorstyle:{\n          border:\"1px solid red\",\n          borderRadius: \"5px\"\n        },\n        isshow:false,\n        activestyle:\"\",\n        product:{\n          prname:\"\",\n          prcode:\"\",\n          prcontent:\"\",\n          pprice:\"\",\n          ppricetype:\"₺\",\n          discount:\"\",\n        },\n        validation:{\n          prname:\"\",\n          prcode:\"\",\n          prcontent:\"\",\n          pprice:\"\",\n          ppricetype:\"₺\",\n          discount:\"\",\n          prtpe:\"\",\n          paytype:\"\",\n          category:\"\"\n        },\n        value: [],\n        color:\"red\",\n        category:[{id:0,text:\"Kategori Seçiniz\"}, {id:1,text:\"Kategori 1\"}],\n        type:[{id:0,text:\"Ürün Türü Seçiniz\"}, {id:1,text:\"Ürün\"},{id:2,text:\"Hizmet\"}],\n        coptions: [{ odemeDonemId: '0', detay: 'Ödeme Dönemi Seçiniz' }],\n        selected: '0',\n        selectedtype:\"0\",\n        paytermlist:[],\n        imglist:[],\n        selectedcategory:\"0\",\n        optionss:[],\n        editedindex:\"\",\n        editedmode:false,\n        sectorlist:[],\n        productDesct:[\n          {\n            baslik:\"\",\n            detay:\"\",\n            headclass:\"\",\n            detailclass:\"\"\n          },\n        ]\n      }\n    },\n        name: \"NewProduct\",\n\n      methods:{\n        canceledit(){\n          this.productDesct=[{\n            baslik:\"\",\n            detay:\"\",\n            headclass:\"\",\n            detailclass:\"\"\n          }]\n          this.editedindex=\"\",\n            this.editedmode=false\n        },\n        editproperties(item,i){\n          this.editedindex=i\n          this.editedmode=true\n          this.productDesct[0].baslik=item.baslik\n          this.productDesct[0].detay=item.detay\n          this.productDesct[0].headclass=\"\"\n          this.productDesct[0].detailclass=\"\"\n        },\n        removeproperties(item,i){\n          swal({\n            title: 'Özelliği Silmek İstediğinize Emin Misiniz ?',\n            icon: 'warning',\n            buttons: ['Hayır', 'Evet'],\n            dangerMode: true\n          })\n            .then((willDelete) => {\n              if (willDelete) {\n                    this.addetproperties.splice(i,1)\n              }\n            })\n        },\n        checkvalidate(){\n          this.validation.prname = Validation.checkvalidate(this.product.prname, \"<\", 3);\n          this.validation.prcontent=Validation.checkvalidate(this.product.prcontent,\"<\",3);\n          this.validation.pprice=Validation.checkvalidate(this.product.pprice,\"=\",\"\",0)\n          this.validation.prcode=Validation.checkvalidate(this.product.prcode,\"<\",1)\n//resim kontrol\n          this.validation.paytype=Validation.checkvalidate(this.selected,\"=\",\"\",0)\n          this.validation.prtpe=Validation.checkvalidate(this.selectedtype,\"=\",\"\",0)\n          this.validation.category=Validation.checkvalidate(this.selectedcategory,\"=\",\"\",0)\n            if(this.value.length<1){\n              this.activestyle=this.errorstyle\n              this.isshow=true\n            }else{\n              this.isshow=false\n                this.activestyle=this.successtyle\n            }\n\n            debugger\n          this.productDesct.forEach((x)=>{\n            debugger\n            x.headclass=Validation.checkvalidate(x.baslik,\"<\",3)\n            x.detailclass=Validation.checkvalidate(x.detay,\"<\",3)\n          })\n\n              //resime bakılacak karar verilmedi\n\n          if(this.validation.prname==\"is-valid\" && this.validation.prcontent==\"is-valid\" && this.validation.pprice==\"is-valid\"\n          && this.validation.prcode ==\"is-valid\" && this.validation.paytype==\"is-valid\" && this.validation.prtpe==\"is-valid\" &&\n            this.validation.category==\"is-valid\" && this.activestyle==this.successtyle\n          ){\n            this.addproduct();\n          }\n\n              debugger\n\n\n\n        },\n        addproduct(){\n          let sectors=[]\n            this.value.forEach((x)=>{\n              sectors.push({\n                sektorId:x.sektorId\n              })\n          })\n          let properties=[]\n\n          this.addetproperties.forEach((x)=>{\n            properties.push({\n              baslik:x.baslik,\n              detay: \"'\"+   x.detay+ \"'\"\n            })\n          })\n          debugger\n          debugger\n\n          ProductService.newproduct(\n            {\n              data:{\n                kullaniciId: this.$store.getters.getuser.kullaniciId,\n                userToken: this.$store.getters.getuser.userToken,\n                iskonto: this.product.discount,\n                parabirimi:this.product.ppricetype,\n                fiyat:this.product.pprice,\n                icerik:this.product.prcontent,\n                baslik:this.product.prname,\n                resim:\"test.jpg\",\n                urunKodu:this.product.prcode,\n                kategori:this.selectedcategory,\n                tur:this.selectedtype,\n                sektorList:sectors,\n                urunAciklama:properties,\n                odemeDonemi:this.selected,\n                methodName: 'urunTanimlama'\n              }\n            }\n          ).then((res)=>{\n            if(res.status===200){\n        debugger\n            }else{\n              Component.showalert(res.msg,\"error\",\"Tamam\")\n            }\n          })\n\n        },\n        addnewrow(type){\n          let rows=JSON.parse(JSON.stringify(  this.productDesct[0]))\n          if(this.productDesct[0].baslik.length && this.productDesct[0].detay.length){\n            if(type==='add'){\n\n              this.addetproperties.push({\n                baslik:rows.baslik,\n                detay:rows.detay\n              })\n            }else{\n              this.addetproperties[this.editedindex].baslik=rows.baslik\n              this.addetproperties[this.editedindex].detay=rows.detay\n              this.editedindex=\"\"\n              this.editedmode=false\n            }\n            this.productDesct=[{\n              baslik:\"\",\n              detay:\"\",\n              headclass:\"\",\n              detailclass:\"\"\n            }]\n          }\n            else{\n              Component.showalert(\"Lütfen Ürün Özelliklerini Belirtiniz\",\"error\",\"Tamam\")\n          }\n          console.log(this.addetproperties)\n        },\n        sectorchange(item){\n          this.sectorlist.push(item)\n        },\n        removesector(item){\n\n        },\n          getsector(){\n            SectorService.sectorlist({\n              data:{\n                kullaniciId: this.$store.getters.getuser.kullaniciId,\n                userToken: this.$store.getters.getuser.userToken,\n                methodName: \"sektorList\"\n              }\n            }).then((res)=>{\n              if(res && res.data && res.data.length){\n                console.log(res.data)\n                this.optionss=res.data\n              }else{\n                this.\n                Component.showalert(res.msg,\"error\",\"Tamam\")\n              }\n            })\n          },\n        onChange(e) {\n          const file = e.target.files[0];\n          if(file.type!=undefined && file.type.includes(\"image\")){\n\n            Component.readFileToBase64(file).then((res)=>{\n              console.log(res)\n              this.imglist.push(res);\n            })\n          }\n        },\n      getpayterm(){\n        PayTermService.getpayterm({\n          data:{\n            kullaniciId: this.$store.getters.getuser.kullaniciId,\n            userToken: this.$store.getters.getuser.userToken,\n            methodName: \"donemList\"\n          }\n        }).then((res)=>{\n          if(res && res.data && res.data.length){\n            this.coptions=res.data\n            this.coptions.unshift({ odemeDonemId: '0', detay: 'Ödeme Dönemi Seçiniz' })\n            console.log(res.data)\n          }else{\n\n            Component.showalert(res.msg,\"error\",\"Tamam\")\n          }\n        })\n      }\n      },\n\n  components:{\n    Multiselect,\n    VueEditor\n  },\n      created(){\n        this.$store.commit('setmainpage', 'Ürünler')\n        this.$store.commit('setsubpage', 'Yeni Ürün Oluştur')\n        this.$store.commit('setbreadcrumbtitle', 'Yeni Ürün Oluştur')\n      this.getpayterm();\n      this.getsector();\n      },\n      mounted() {\n        $(document).ready(function() {\n\n          $('.textarea_editor').wysihtml5();\n\n\n        });\n        $('.dropify').dropify({\n          messages: {\n            default: 'Dosyalarınız Sürükleyin yada Dosya Ekleyin',\n            replace: 'Başka Dosya Seç',\n            error: 'Bir Hata Gerçekleşti'\n          }\n        });\n      }\n    }\n",{"version":3,"sources":["NewProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewProduct.vue","sourceRoot":"src/components/Products","sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n      <div class=\"card card-outline-info\">\r\n        <div class=\"card-header\">\r\n          <h4 class=\"m-b-0 text-white\">Yeni Ürün Oluştur</h4>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div class=\"form-body\">\r\n              <h3 class=\"card-title\">Ürün Bilgileri</h3>\r\n              <hr>\r\n              <div class=\"row p-t-20\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Ürün Başlığı </label>\r\n                    <input type=\"text\"\r\n                           :class=\"validation.prname\"\r\n                           v-model=\"product.prname\"\r\n                           class=\"form-control invalid-feedback\" placeholder=\"Ürün Başlığı Giriniz\">\r\n                    <div class=\"invalid-feedback\">\r\n                      ÜRÜN ADI BOŞ GİRİLEMEZ\r\n                    </div>\r\n                     </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row p-t-20\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Ürün İçeriği </label>\r\n                    <input type=\"text\"\r\n                           :class=\"validation.prcontent\"\r\n                           v-model=\"product.prcontent\"\r\n                           class=\"form-control\" placeholder=\"Ürün İçeriği Giriniz\">\r\n\r\n                    <div class=\"invalid-feedback\">\r\n                      ÜRÜN İÇERİĞİ BOŞ GİRİLEMEZ\r\n                    </div>\r\n\r\n                   </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row p-t-20\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Ürün Fiyatı  </label>\r\n                    <input type=\"number\"\r\n                           onkeypress=\"return event.charCode >= 48 && event.charCode <= 57\"\r\n                           :class=\"validation.pprice\"\r\n                           v-model=\"product.pprice\"\r\n                           min=\"0\"\r\n                           max=\"99999999999999999999999\"\r\n                           class=\"form-control\" placeholder=\"Ürün Fiyatı Giriniz\">\r\n                    <div class=\"invalid-feedback\">\r\n                      ÜRÜN FİYATI SIFIR GİRİLEMEZ\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row p-t-20\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Para Birimi </label>\r\n\r\n                    <div class=\"demo-radio-button\">\r\n                      <input name=\"group4\" type=\"radio\" value=\"₺\" id=\"radio_12\" v-model=\"product.ppricetype\" class=\"radio-col-blue\" />\r\n                      <label for=\"radio_12\">₺ (Türk Lirası)</label>\r\n                      <input name=\"group4\" value=\"$\" type=\"radio\" id=\"radio_13\" v-model=\"product.ppricetype\" class=\"radio-col-blue\" />\r\n                      <label for=\"radio_13\">$ (ABD Doları)</label>\r\n                      <div class=\"invalid-feedback\">\r\n                       PARA BİRİMİ SEÇİNİZ\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row p-t-20\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Ürün Kodu </label>\r\n                    <input type=\"text\"\r\n\r\n                           :class=\"validation.prcode\"\r\n                           id=\"firstName\" class=\"form-control\"\r\n\r\n                           v-model=\"product.prcode\"\r\n                           placeholder=\"Ürün Kodu Giriniz\">\r\n\r\n                    <div class=\"invalid-feedback\">\r\n                      ÜRÜN KODU GİRİNİZ\r\n                    </div>\r\n                   </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Ödeme Dönemi</label>\r\n                    <select class=\"form-control custom-select\"\r\n                            :class=\"validation.paytype\"\r\n                            v-model=\"selected\">\r\n                      <option\r\n                        v-for=\"option in coptions\"\r\n                        :disabled=\"option.odemeDonemId==0\"\r\n                        v-bind:value=\"option.odemeDonemId\"\r\n                      >{{ option.detay }}\r\n                      </option>\r\n                    </select>\r\n                    <div class=\"invalid-feedback\">\r\n                      ÖDEME DÖNEMİ SEÇİNİZ\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row p-t-20\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">İskonto </label>\r\n                    <input type=\"text\"  class=\"form-control\"\r\n                           onkeypress=\"return event.charCode >= 48 && event.charCode <= 57\"\r\n                           :class=\"validation.discount\"\r\n                           placeholder=\"İskonto Giriniz\" v-model=\"product.discount\">\r\n                    <div class=\"invalid-feedback\">\r\n                      GEÇERLİ BİR İSKONTO BELİRTİNİZ\r\n                    </div>\r\n\r\n                     </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12 col-md-12\">\r\n                  <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                      <h4 class=\"card-title\">Resim Seç </h4>\r\n                      <input type=\"file\"  @change=\"onChange($event)\" id=\"input-file-now\" data-show-remove=\"false\" class=\"dropify\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group \">\r\n                    <label class=\"control-label\">Ürün Türü</label>\r\n                    <select class=\"form-control custom-select\"\r\n                            :class=\"validation.prtpe\"\r\n                            v-model=\"selectedtype\">\r\n                      <option\r\n\r\n                        v-for=\"item in type\"\r\n                        :disabled=\"item.id==0\"\r\n                        v-bind:value=\"item.id\"\r\n                      >{{ item.text }}\r\n                      </option>\r\n                    </select>\r\n                    <div class=\"invalid-feedback\">\r\n                      ÜRÜN TÜRÜ SEÇİNİZ\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Kategori</label>\r\n                    <select class=\"form-control custom-select\"\r\n                            :class=\"validation.category\"\r\n                            v-model=\"selectedcategory\">\r\n                      <option\r\n                        v-for=\"data in category\"\r\n                        :disasbled=\"data.id==0\"\r\n                        v-bind:value=\"data.id\"\r\n                      >{{data.text}} </option>\r\n\r\n                    </select>\r\n                    <div class=\"invalid-feedback\">\r\n                      ÜRÜN TÜRÜ SEÇİNİZ\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n\r\n                <div class=\"col-md-12\">\r\n\r\n                  <div class=\"form-group \">\r\n\r\n\r\n                    <label class=\"control-label\">Sektör Listesi</label>\r\n\r\n\r\n\r\n                    <multiselect\r\n                      v-bind:style=\"activestyle\"\r\n                      v-model=\"value\" :allow-empty=\"false\" :options=\"optionss\" :multiple=\"true\"\r\n                                 :close-on-select=\"false\"\r\n                                 :clear-on-select=\"false\" :preserve-search=\"false\"\r\n                                 select-label=\"Seç\"\r\n                                 selected-label=\"Seçili\"\r\n                                 deselect-label=\"Seçimi Kaldır\"\r\n                                 @select=\"sectorchange\"\r\n                                 @remove=\"removesector\"\r\n                                 :searchable=\"false\"\r\n\r\n                                 placeholder=\"Sektör Seçiniz\" label=\"sektor\" track-by=\"sektor\" :preselect-first=\"false\">\r\n                      <template\r\n                        slot=\"selection\"\r\n                                slot-scope=\"{ values, search, isOpen }\"><span  class=\"multiselect__single form\" v-if=\"values.length &amp;&amp; !isOpen\">\r\n              {{ values.length }} Sektör Seçildi\r\n                </span>  </template>\r\n\r\n                    </multiselect>\r\n\r\n                    </div>\r\n                    <div  v-if=\"isshow\">\r\n                      <label style=\"color: red\">GEÇERLİ BİR İSKONTO BELİRTİNİZ</label>\r\n                    </div>\r\n                  </div>\r\n              </div>\r\n\r\n              <div class=\"row p-t-20\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Özellikler </label>\r\n\r\n                    <table class=\"table table-hover\">\r\n                    <thead>\r\n                    </thead><br>\r\n                      <tr v-for=\"(row,indexs) in productDesct\">\r\n                        <td>\r\n                          <div class=\"row\">\r\n                          <div class=\"col-12\">\r\n                          <input type=\"text\"\r\n                                 :class=\"row.headclass\"\r\n                                 class=\"form-control\" v-model=\"row.baslik\" placeholder=\"Özellik Giriniz\">\r\n                          <div class=\"invalid-feedback\">\r\n                            ÖZELLİK BİLGİLERİ GİRİNİZ\r\n                          </div>\r\n                          </div>\r\n                          </div><br>\r\n                          <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                              <div class=\"card\">\r\n                                <div class=\"card-body\">\r\n                                  <h4 class=\"card-title\">Ürün Detaylarını Giriniz</h4>\r\n                                    <div class=\"form-group\">\r\n                                      <vue-editor\r\n                                        :class=\"row.detailclass\"\r\n                                        v-model=\"row.detay\"></vue-editor>\r\n                                      <div class=\"invalid-feedback\">\r\n                                        ÖZELLİK DETAYLARI GİRİNİZ\r\n                                      </div>\r\n                                    </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                        </td>\r\n\r\n                      </tr>\r\n                      <div class=\"button-group\">\r\n                      <button class=\"btn btn-danger\" v-if=\"editedmode\" @mouseup=\"canceledit\" style=\"float: right\">Vazgeç</button>\r\n                      <button class=\"btn btn-warning\" v-if=\"editedmode\" @mouseup=\"addnewrow('edit')\" style=\"float: right\">Düzenle</button>\r\n                      <button class=\"btn btn-primary\" v-if=\"!editedmode\" @mouseup=\"addnewrow('add')\" style=\"float: right\">Yeni Özellik Ekle</button>\r\n\r\n                      </div>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div class=\"row p-t-20\" v-if=\"addetproperties.length\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"control-label\">Eklenen Özellikler </label>\r\n\r\n                    <table class=\"table table-hover\">\r\n                      <thead>\r\n                      <th>Başlık</th>\r\n                      <th>Özellik</th>\r\n                      <th>İşlemler</th>\r\n                      </thead><br>\r\n                      <tr v-for=\"(row,indexs) in addetproperties\">\r\n                        <td>\r\n                          <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n\r\n                              {{row.baslik}}\r\n                            </div>\r\n                          </div><br>\r\n\r\n                        </td>\r\n                        <td>\r\n                          <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <div v-html=\"row.detay\"></div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n\r\n\r\n                        </td>\r\n                        <td>\r\n                          <div class=\"button-group\">\r\n\r\n\r\n                            <button class=\"btn  btn-danger\"\r\n                                    @mouseup=\"removeproperties(row,indexs)\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Özelliği Sil\" >  <i class=\"fas fa-trash\"></i>  </button>\r\n                            <button class=\"btn  btn-warning\"\r\n                                    @mouseup=\"editproperties(row,indexs)\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Özelliği Düzenle\" >  <i class=\"fas fa-edit\"></i>  </button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!--/row-->\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n            <div class=\"form-actions\" style=\"float: right\">\r\n              <button type=\"button\" class=\"btn btn-success\" @mouseup=\"checkvalidate\"> <i class=\"fa fa-check\"></i> Kaydet</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Component from '../../Plugins/Component'\r\n  import dropify from '../../../public/assets/css/dropify.css'\r\n  import Multiselect from 'vue-multiselect'\r\n  import PayTermService from '../../ApiService/PayTermService'\r\n  import ProductService from '../../ApiService/ProductService'\r\n  import SectorService from \"../../ApiService/SectorService\";\r\n  import Validation from '../../Plugins/Validation'\r\n  import { VueEditor } from \"vue2-editor\";\r\n  import swal from \"sweetalert\";\r\n\r\n  export default {\r\n    data(){\r\n      return{\r\n        addetproperties:[],\r\n        successtyle:{\r\n          border:\"2px solid #28a745\",\r\n          borderRadius: \"5px\"\r\n        },\r\n        errorstyle:{\r\n          border:\"1px solid red\",\r\n          borderRadius: \"5px\"\r\n        },\r\n        isshow:false,\r\n        activestyle:\"\",\r\n        product:{\r\n          prname:\"\",\r\n          prcode:\"\",\r\n          prcontent:\"\",\r\n          pprice:\"\",\r\n          ppricetype:\"₺\",\r\n          discount:\"\",\r\n        },\r\n        validation:{\r\n          prname:\"\",\r\n          prcode:\"\",\r\n          prcontent:\"\",\r\n          pprice:\"\",\r\n          ppricetype:\"₺\",\r\n          discount:\"\",\r\n          prtpe:\"\",\r\n          paytype:\"\",\r\n          category:\"\"\r\n        },\r\n        value: [],\r\n        color:\"red\",\r\n        category:[{id:0,text:\"Kategori Seçiniz\"}, {id:1,text:\"Kategori 1\"}],\r\n        type:[{id:0,text:\"Ürün Türü Seçiniz\"}, {id:1,text:\"Ürün\"},{id:2,text:\"Hizmet\"}],\r\n        coptions: [{ odemeDonemId: '0', detay: 'Ödeme Dönemi Seçiniz' }],\r\n        selected: '0',\r\n        selectedtype:\"0\",\r\n        paytermlist:[],\r\n        imglist:[],\r\n        selectedcategory:\"0\",\r\n        optionss:[],\r\n        editedindex:\"\",\r\n        editedmode:false,\r\n        sectorlist:[],\r\n        productDesct:[\r\n          {\r\n            baslik:\"\",\r\n            detay:\"\",\r\n            headclass:\"\",\r\n            detailclass:\"\"\r\n          },\r\n        ]\r\n      }\r\n    },\r\n        name: \"NewProduct\",\r\n\r\n      methods:{\r\n        canceledit(){\r\n          this.productDesct=[{\r\n            baslik:\"\",\r\n            detay:\"\",\r\n            headclass:\"\",\r\n            detailclass:\"\"\r\n          }]\r\n          this.editedindex=\"\",\r\n            this.editedmode=false\r\n        },\r\n        editproperties(item,i){\r\n          this.editedindex=i\r\n          this.editedmode=true\r\n          this.productDesct[0].baslik=item.baslik\r\n          this.productDesct[0].detay=item.detay\r\n          this.productDesct[0].headclass=\"\"\r\n          this.productDesct[0].detailclass=\"\"\r\n        },\r\n        removeproperties(item,i){\r\n          swal({\r\n            title: 'Özelliği Silmek İstediğinize Emin Misiniz ?',\r\n            icon: 'warning',\r\n            buttons: ['Hayır', 'Evet'],\r\n            dangerMode: true\r\n          })\r\n            .then((willDelete) => {\r\n              if (willDelete) {\r\n                    this.addetproperties.splice(i,1)\r\n              }\r\n            })\r\n        },\r\n        checkvalidate(){\r\n          this.validation.prname = Validation.checkvalidate(this.product.prname, \"<\", 3);\r\n          this.validation.prcontent=Validation.checkvalidate(this.product.prcontent,\"<\",3);\r\n          this.validation.pprice=Validation.checkvalidate(this.product.pprice,\"=\",\"\",0)\r\n          this.validation.prcode=Validation.checkvalidate(this.product.prcode,\"<\",1)\r\n//resim kontrol\r\n          this.validation.paytype=Validation.checkvalidate(this.selected,\"=\",\"\",0)\r\n          this.validation.prtpe=Validation.checkvalidate(this.selectedtype,\"=\",\"\",0)\r\n          this.validation.category=Validation.checkvalidate(this.selectedcategory,\"=\",\"\",0)\r\n            if(this.value.length<1){\r\n              this.activestyle=this.errorstyle\r\n              this.isshow=true\r\n            }else{\r\n              this.isshow=false\r\n                this.activestyle=this.successtyle\r\n            }\r\n\r\n            debugger\r\n          this.productDesct.forEach((x)=>{\r\n            debugger\r\n            x.headclass=Validation.checkvalidate(x.baslik,\"<\",3)\r\n            x.detailclass=Validation.checkvalidate(x.detay,\"<\",3)\r\n          })\r\n\r\n              //resime bakılacak karar verilmedi\r\n\r\n          if(this.validation.prname==\"is-valid\" && this.validation.prcontent==\"is-valid\" && this.validation.pprice==\"is-valid\"\r\n          && this.validation.prcode ==\"is-valid\" && this.validation.paytype==\"is-valid\" && this.validation.prtpe==\"is-valid\" &&\r\n            this.validation.category==\"is-valid\" && this.activestyle==this.successtyle\r\n          ){\r\n            this.addproduct();\r\n          }\r\n\r\n              debugger\r\n\r\n\r\n\r\n        },\r\n        addproduct(){\r\n          let sectors=[]\r\n            this.value.forEach((x)=>{\r\n              sectors.push({\r\n                sektorId:x.sektorId\r\n              })\r\n          })\r\n          let properties=[]\r\n\r\n          this.addetproperties.forEach((x)=>{\r\n            properties.push({\r\n              baslik:x.baslik,\r\n              detay: \"'\"+   x.detay+ \"'\"\r\n            })\r\n          })\r\n          debugger\r\n          debugger\r\n\r\n          ProductService.newproduct(\r\n            {\r\n              data:{\r\n                kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n                userToken: this.$store.getters.getuser.userToken,\r\n                iskonto: this.product.discount,\r\n                parabirimi:this.product.ppricetype,\r\n                fiyat:this.product.pprice,\r\n                icerik:this.product.prcontent,\r\n                baslik:this.product.prname,\r\n                resim:\"test.jpg\",\r\n                urunKodu:this.product.prcode,\r\n                kategori:this.selectedcategory,\r\n                tur:this.selectedtype,\r\n                sektorList:sectors,\r\n                urunAciklama:properties,\r\n                odemeDonemi:this.selected,\r\n                methodName: 'urunTanimlama'\r\n              }\r\n            }\r\n          ).then((res)=>{\r\n            if(res.status===200){\r\n        debugger\r\n            }else{\r\n              Component.showalert(res.msg,\"error\",\"Tamam\")\r\n            }\r\n          })\r\n\r\n        },\r\n        addnewrow(type){\r\n          let rows=JSON.parse(JSON.stringify(  this.productDesct[0]))\r\n          if(this.productDesct[0].baslik.length && this.productDesct[0].detay.length){\r\n            if(type==='add'){\r\n\r\n              this.addetproperties.push({\r\n                baslik:rows.baslik,\r\n                detay:rows.detay\r\n              })\r\n            }else{\r\n              this.addetproperties[this.editedindex].baslik=rows.baslik\r\n              this.addetproperties[this.editedindex].detay=rows.detay\r\n              this.editedindex=\"\"\r\n              this.editedmode=false\r\n            }\r\n            this.productDesct=[{\r\n              baslik:\"\",\r\n              detay:\"\",\r\n              headclass:\"\",\r\n              detailclass:\"\"\r\n            }]\r\n          }\r\n            else{\r\n              Component.showalert(\"Lütfen Ürün Özelliklerini Belirtiniz\",\"error\",\"Tamam\")\r\n          }\r\n          console.log(this.addetproperties)\r\n        },\r\n        sectorchange(item){\r\n          this.sectorlist.push(item)\r\n        },\r\n        removesector(item){\r\n\r\n        },\r\n          getsector(){\r\n            SectorService.sectorlist({\r\n              data:{\r\n                kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n                userToken: this.$store.getters.getuser.userToken,\r\n                methodName: \"sektorList\"\r\n              }\r\n            }).then((res)=>{\r\n              if(res && res.data && res.data.length){\r\n                console.log(res.data)\r\n                this.optionss=res.data\r\n              }else{\r\n                this.\r\n                Component.showalert(res.msg,\"error\",\"Tamam\")\r\n              }\r\n            })\r\n          },\r\n        onChange(e) {\r\n          const file = e.target.files[0];\r\n          if(file.type!=undefined && file.type.includes(\"image\")){\r\n\r\n            Component.readFileToBase64(file).then((res)=>{\r\n              console.log(res)\r\n              this.imglist.push(res);\r\n            })\r\n          }\r\n        },\r\n      getpayterm(){\r\n        PayTermService.getpayterm({\r\n          data:{\r\n            kullaniciId: this.$store.getters.getuser.kullaniciId,\r\n            userToken: this.$store.getters.getuser.userToken,\r\n            methodName: \"donemList\"\r\n          }\r\n        }).then((res)=>{\r\n          if(res && res.data && res.data.length){\r\n            this.coptions=res.data\r\n            this.coptions.unshift({ odemeDonemId: '0', detay: 'Ödeme Dönemi Seçiniz' })\r\n            console.log(res.data)\r\n          }else{\r\n\r\n            Component.showalert(res.msg,\"error\",\"Tamam\")\r\n          }\r\n        })\r\n      }\r\n      },\r\n\r\n  components:{\r\n    Multiselect,\r\n    VueEditor\r\n  },\r\n      created(){\r\n        this.$store.commit('setmainpage', 'Ürünler')\r\n        this.$store.commit('setsubpage', 'Yeni Ürün Oluştur')\r\n        this.$store.commit('setbreadcrumbtitle', 'Yeni Ürün Oluştur')\r\n      this.getpayterm();\r\n      this.getsector();\r\n      },\r\n      mounted() {\r\n        $(document).ready(function() {\r\n\r\n          $('.textarea_editor').wysihtml5();\r\n\r\n\r\n        });\r\n        $('.dropify').dropify({\r\n          messages: {\r\n            default: 'Dosyalarınız Sürükleyin yada Dosya Ekleyin',\r\n            replace: 'Başka Dosya Seç',\r\n            error: 'Bir Hata Gerçekleşti'\r\n          }\r\n        });\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n\r\n\r\n  ::placeholder {\r\n    opacity: 0.3; /* Firefox */\r\n  }\r\n  :-ms-input-placeholder { /* Internet Explorer 10-11 */\r\n    opacity: 0.3;\r\n  }\r\n\r\n  ::-ms-input-placeholder { /* Microsoft Edge */\r\n    opacity: 0.3;\r\n  }\r\n</style>\r\n"]}]}